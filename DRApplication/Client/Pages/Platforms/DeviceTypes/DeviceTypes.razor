@page "/deviceTypes"
@namespace DRApplication.Client.Pages.Platforms
@using DRApplication.Client.Interfaces
@inject IPlatformService _platformService

<MudText Typo="Typo.h3" Class="mb-4">
    <MudIcon Icon="@Icons.Material.Filled.LocalAirport" Size="Size.Large" Class="m-3" />
    Device Types
</MudText>

@if (!isBusy)
{
    <BasicTable Data="_viewModels" TItem="DeviceTypeVm"></BasicTable>
}

@code{
    bool isBusy;
    private IEnumerable<DeviceTypeVm>? _viewModels;

    protected override async Task OnInitializedAsync()
    {
        isBusy = true;
        _viewModels = await _platformService.GetDeviceTypeVmsAsync();
       isBusy = false;
    }
}