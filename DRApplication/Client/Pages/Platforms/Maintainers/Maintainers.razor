@namespace DRApplication.Client.Pages.Platforms
@page "/maintainers"
@inject MaintainerManager _manager

<MudText Typo="Typo.h3" Class="mb-4">
    <MudIcon Icon="@Icons.Material.Filled.LocalAirport" Size="Size.Large" Class="m-3" />
    Maintainers
</MudText>

@if (MaintainerVms is not null)
{
    <BasicTable Data="@MaintainerVms"></BasicTable>
}


<NewButton Url="/maintainer/create" />

@code{
 
    public IEnumerable<MaintainerVm> MaintainerVms { get; set; }

    protected override async Task OnInitializedAsync()
    {
        var items = await _manager.GetAllAsync();
        MaintainerVms = Mapping.Mapper.Map<List<MaintainerVm>>(items);
    }

}