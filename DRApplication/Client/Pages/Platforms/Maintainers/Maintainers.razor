@namespace DRApplication.Client.Pages.Platforms
@page "/maintainers"
@using DRApplication.Client.Interfaces
@inject IPlatformService _service

<MudText Typo="Typo.h3" Class="mb-4">
    <MudIcon Icon="@Icons.Material.Filled.LocalAirport" Size="Size.Large" Class="m-3" />
    Maintainers
</MudText>

@if (!_isBusy)
{
    <BasicTable Data="_viewModels" TItem="MaintainerVm"></BasicTable>
}

<NewButton Url="/maintainer/create" />

@code{

    bool _isBusy;

    public IEnumerable<MaintainerVm> _viewModels { get; set; }

    protected override async Task OnInitializedAsync()
    {
        _isBusy = true;
        _viewModels = await _service.GetMaintainerVmsAsync();
        _isBusy = false;
    }
}