@page "/"
@namespace DRApplication.Client.Pages
@inject IPlatformService PlatformService

<MudGrid Spacing="2" Justify="Justify.Center">
    @if (_isBusy || items is null)
    {
        @for (int i = 0; i < 7; i++)
        {
            <MudItem xs="12" sm="12" md="6" lg="3">
                <MudCard>
                    <MudSkeleton SkeletonType="SkeletonType.Rectangle" Height="200px" />
                    <MudCardContent>
                        <MudSkeleton Width="30%" Height="42px;" />
                        <MudSkeleton Width="80%" />
                        <MudSkeleton Width="100%" />
                    </MudCardContent>
                    <MudCardActions>
                        <MudSkeleton Width="64px" Height="40px" Class="ml-2" />
                        <MudSkeleton Width="105px" Height="40px" Class="ml-3" />
                    </MudCardActions>
                </MudCard>
            </MudItem>
        }
    }
    else
    {
        @foreach (var item in items)
        {
            <MudItem xs="12" sm="12" md="6" lg="3">
                <MudCard>
                    <MudCardHeader>
                        <CardHeaderAvatar>
                            <MudAvatar Color="Color.Info" Size="Size.Medium">@item.Platform.Substring(0,1)</MudAvatar>
                        </CardHeaderAvatar>
                        <CardHeaderContent>
                            <MudLink Typo="Typo.h5" Class="ml-6" Color="Color.Primary" Href="@($"/devices/list/{@item.Id}")">@item.Platform</MudLink>
                        </CardHeaderContent>
                        <CardHeaderActions>
                            <MudIconButton Icon="@Icons.Material.Filled.Settings" Color="Color.Default" />
                        </CardHeaderActions>
                    </MudCardHeader>
                    <MudLink Href="@($"/devices/list/{@item.Id}")">
                        <MudCardMedia Image="@($"/img/cards/{@item.Id}.webp")" Height="250" Class="pa-2" />
                    </MudLink>
                    <MudCardContent>
                        <MudSkeleton Animation="Animation.Wave" />
                    </MudCardContent>
                    <MudCardActions>
                        <MudIconButton Icon="@Icons.Material.Filled.Favorite" Color="Color.Default" />
                        <MudIconButton Icon="@Icons.Material.Filled.Share" Color="Color.Default" />
                    </MudCardActions>
                </MudCard>
            </MudItem>
        }
    }

</MudGrid>