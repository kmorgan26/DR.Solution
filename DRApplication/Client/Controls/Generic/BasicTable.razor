@typeparam TItem
@inherits MudTable<TItem> 

<MudTable Items="Data" Hover="true" Striped="true" Dense="true">
    <HeaderContent>
        @foreach(var item in PropertyNames)
        {
            <MudTh>@item</MudTh>
        }
    </HeaderContent>
    <RowTemplate>
        @BRowTemplate(@context)
    </RowTemplate>
</MudTable>

@code {

    [Parameter]
    public IEnumerable<TItem> Data { get; set; }

    [Parameter]
    public RenderFragment<TItem> BRowTemplate { get; set; }

    [Parameter]
    public RenderFragment BHeaderTemplate { get; set; }

    private List<string> PropertyNames = new();

    private void _setPropertyNames()
    {
        foreach (var item in Data)
        {
            var prop = item.GetType().Name;
            PropertyNames.Add(prop);
        }
    }

    protected override async Task OnInitializedAsync()
    {
        _setPropertyNames();   
    }    

}