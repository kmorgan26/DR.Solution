@namespace DRApplication.Client.Controls
@inject IHardwareService HardwareService
@inject ISoftwareService SoftwareService
@inject AppState AppState

<MudGrid>
    <MudItem xs="12" sm="9" md="6" lg="3">
        <HardwareConfigSelect OnHardwareConfigIdChanged="SetHardwareConfigId"></HardwareConfigSelect>
    </MudItem>
    <MudItem xs="12" sm="9" md="6" lg="3">
        <SoftwareSystemSelect OnSoftwareSystemIdChanged="SetSoftwareSystemId"></SoftwareSystemSelect>
    </MudItem>
</MudGrid>

@code {

    async Task SetHardwareConfigId(int id)
    {
        var vm = await HardwareService.GetHardwareConfigVmById(id);
        AppState.UpdateHardwareConfigVm(this, vm);
    }

    async Task SetSoftwareSystemId(int id)
    {
        var vm = await SoftwareService.GetSoftwareSystemVmById(id);
        AppState.UpdateSoftwareSystemVm(this, vm);
    }
}